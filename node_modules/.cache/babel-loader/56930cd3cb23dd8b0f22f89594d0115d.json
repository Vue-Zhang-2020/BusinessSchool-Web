{"remainingRequest":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\babel-loader\\lib\\index.js!D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\src\\views\\business_port\\teaching\\exam_manager\\exam_center.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\src\\views\\business_port\\teaching\\exam_manager\\exam_center.vue","mtime":1594453540977},{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: '',\n  data: function data() {\n    return {\n      gridData: [{\n        id: '1',\n        title: 'A',\n        desc: 'A级：90分以上（包含90)'\n      }, {\n        id: '2',\n        title: 'B',\n        desc: 'B级：80-90（包含80）'\n      }, {\n        id: '3',\n        title: 'C',\n        desc: 'C级：70-80（包含70）'\n      }, {\n        id: '4',\n        title: 'D',\n        desc: 'D级：60-70（包含60）'\n      }, {\n        id: '5',\n        title: 'E',\n        desc: 'E级：60以下（不包含60）'\n      }],\n      total: 0,\n      currentPage: 1,\n      pagesize: 8,\n      examSearch: '',\n      // 考试搜索\n      courseStatus: '全部',\n      // 课程状态\n      insertOrModifyModal: false,\n      deleteDialog: false,\n      modifyDialog: false,\n      successDialog: false,\n      modifyTitle: 0,\n      // 0 添加 1 修改\n      formLabelWidth: '150px',\n      count: 3,\n      examJsonData: [],\n      examForm: {\n        examId: '',\n        examName: '',\n        examImg: '',\n        examDesc: '',\n        examTime: '',\n        examLevel: [{\n          integral: ''\n        }, {\n          integral: ''\n        }, {\n          integral: ''\n        }, {\n          integral: ''\n        }, {\n          integral: ''\n        }]\n      },\n      rules: {\n        examName: [{\n          required: true,\n          message: '请输入考试名称',\n          trigger: 'blur'\n        }],\n        examImg: [{\n          required: true,\n          message: '请上传考试封面',\n          trigger: 'blur'\n        }],\n        examTime: [{\n          required: true,\n          message: '请输入考试时长',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  watch: {\n    insertOrModifyModal: function insertOrModifyModal(val) {\n      if (!val) {\n        this.requestExamJsonData();\n      }\n    }\n  },\n  created: function created() {\n    this.requestExamJsonData();\n  },\n  methods: {\n    handleSizeChange: function handleSizeChange(val) {},\n    handleCurrentChange: function handleCurrentChange(val) {},\n    // 显示删除Dialog\n    showDeleteModal: function showDeleteModal() {\n      this.deleteDialog = true;\n    },\n    // 显示添加课程Dialog\n    showInserModal: function showInserModal(flag) {\n      if (flag === 1) {\n        this.modifyDialog = true;\n      } else {\n        this.modifyTitle = flag;\n        this.insertOrModifyModal = true;\n      }\n    },\n    searchExam: function searchExam() {\n      this.requestSearchExamJsonData();\n    },\n    // 搜索\n    requestSearchExamJsonData: function requestSearchExamJsonData() {\n      var _this = this;\n\n      this.$axios.post(this.$global.sApi + '/addtest', JSON.stringify({\n        'type': 5,\n        'testname': this.examSearch\n      })).then(function (res) {\n        _this.examJsonData = res.data.data[0];\n      });\n    },\n    // 获取考试列表\n    requestExamJsonData: function requestExamJsonData() {\n      var _this2 = this;\n\n      this.$axios.post(this.$global.sApi + '/addtest', JSON.stringify({\n        'type': 4,\n        'current_page': this.currentPage,\n        'perpage': this.pagesize\n      })).then(function (res) {\n        _this2.examJsonData = res.data.data.data;\n        _this2.total = res.data.data.total;\n      });\n    },\n    // 确认编辑\n    modifyCourse: function modifyCourse() {\n      this.modifyTitle = 1;\n      this.modifyDialog = false;\n      this.insertOrModifyModal = true;\n    },\n    file_info_check: function file_info_check(file) {\n      var ret = '';\n\n      if (file === undefined) {\n        ret = '';\n      } // eslint-disable-next-line camelcase\n\n\n      var max_file_size = 2 * 1024 * 1024; // eslint-disable-next-line camelcase\n\n      if (file.size > max_file_size) {\n        ret = '文件不能大于2Mb';\n      }\n\n      var typeJpg = '.jpg';\n      var typeJpeg = '.jpeg';\n      var typePng = '.png';\n\n      if (file.name.indexOf(typeJpg) === -1) {\n        ret = '文件格式要求是.jpg/.jpeg/.png';\n      } else {\n        ret = 'success';\n        return ret;\n      }\n\n      if (file.name.indexOf(typeJpeg) === -1) {\n        ret = '文件格式要求是.jpg/.jpeg/.png';\n      } else {\n        ret = 'success';\n        return ret;\n      }\n\n      if (file.name.indexOf(typePng) === -1) {\n        ret = '文件格式要求是.jpg/.jpeg/.png';\n      } else {\n        ret = 'success';\n        return ret;\n      }\n\n      return ret;\n    },\n    uploadImg: function uploadImg(fileObj) {\n      var _this3 = this;\n\n      this.loading = true;\n      var fileStatus = this.file_info_check(fileObj.file);\n\n      if (fileStatus === 'success') {\n        var formData = new FormData();\n        formData.append('file', fileObj.file);\n        this.$axios.post('/upschead', formData, {\n          headers: {\n            'Content-type': 'multipart/form-data'\n          }\n        }).then(function (res) {\n          // this.registerForm.imageUrl = res\n          _this3.$message({\n            message: '提交成功',\n            type: 'success'\n          });\n\n          _this3.examForm.examImg = res.data.path;\n          _this3.loading = false;\n        });\n      } else {\n        this.$message({\n          message: fileStatus,\n          type: 'error'\n        });\n      }\n    },\n    submitModify: function submitModify(formName) {\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {}\n      });\n    },\n    submitInsert: function submitInsert(formName) {\n      var _this4 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this4.insertExamApi();\n        }\n      });\n    },\n    // 添加考试\n    insertExamApi: function insertExamApi() {\n      var _this5 = this;\n\n      var integrals = '';\n      this.examForm.examLevel.forEach(function (element) {\n        integrals += element.integral + ',';\n      });\n      this.$axios.post(this.$global.sApi + '/addtest', JSON.stringify({\n        'type': 1,\n        'testname': this.examForm.examName,\n        'testheader': this.examForm.examImg,\n        'brief': this.examForm.examDesc,\n        'testtime': parseInt(this.examForm.examTime),\n        'points': integrals.substring(0, integrals.length - 1)\n      })).then(function (res) {\n        _this5.successDialog = true;\n\n        _this5.countDown();\n      });\n    },\n    countDown: function countDown() {\n      var _this6 = this;\n\n      var TIME_COUNT = 3;\n\n      if (!this.timer) {\n        this.count = TIME_COUNT;\n        this.timer = setInterval(function () {\n          if (_this6.count > 0 && _this6.count <= TIME_COUNT) {\n            _this6.count--;\n          } else {\n            clearInterval(_this6.timer);\n            _this6.timer = null;\n            _this6.insertOrModifyModal = false;\n            _this6.successDialog = false;\n          }\n        }, 1000);\n      }\n    }\n  }\n};\nexports.default = _default;",null]}