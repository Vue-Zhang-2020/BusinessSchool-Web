{"remainingRequest":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\babel-loader\\lib\\index.js!D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\src\\layout\\components\\AppMain.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\src\\layout\\components\\AppMain.vue","mtime":1594355473938},{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:/\\u4E2A\\u4EBA\\u6210\\u957F\\u7ECF\\u5386/\\u9510\\u540D\\u79D1\\u6280/\\u4EA7\\u54C1\\u5F00\\u53D1/\\u5546\\u7BA1\\u9662/BusinessSchool-Web/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"D:/\\u4E2A\\u4EBA\\u6210\\u957F\\u7ECF\\u5386/\\u9510\\u540D\\u79D1\\u6280/\\u4EA7\\u54C1\\u5F00\\u53D1/\\u5546\\u7BA1\\u9662/BusinessSchool-Web/node_modules/@babel/runtime/helpers/toConsumableArray\"));\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'AppMain',\n  data: function data() {\n    return {\n      flag: '',\n      path: false,\n      routePath: '/home',\n      routers: [],\n      once: true,\n      defaultProps: {\n        children: 'children',\n        label: 'meta.title'\n      }\n    };\n  },\n  beforeMount: function beforeMount() {\n    var toPath = sessionStorage.getItem('pathTo');\n\n    if (toPath !== null) {\n      this.checkResetRouter(toPath);\n    }\n\n    this.flag = this.$store.getters.roles;\n  },\n  beforeCreate: function beforeCreate() {\n    this.flag = this.$store.getters.roles;\n  },\n  watch: {\n    $route: function $route(to, from) {\n      sessionStorage.setItem('pathTo', to.path);\n      this.$store.commit(\"SET_PATH_ROUTER\", to.path);\n      this.checkResetRouter(to.path + '');\n      this.flag = this.$store.getters.roles;\n    }\n  },\n  computed: {\n    key: function key() {\n      return this.$route.path;\n    }\n  },\n  mounted: function mounted() {// this.listenPage()\n  },\n  methods: {\n    listenPage: function listenPage() {\n      window.onbeforeunload = function (e) {\n        e = e || window.event;\n\n        if (e) {\n          e.returnValue = '关闭提示';\n        }\n\n        return '关闭提示';\n      };\n    },\n    checkResetRouter: function checkResetRouter(to) {\n      // console.log(`传递过来:${to}`)\n      if (to + '' === '/home' || to + '' === '/home/home') {\n        this.path = false;\n      } else {\n        this.path = true;\n      }\n\n      var q = to.indexOf(\"/\");\n      var w = to.indexOf(\"/\", q + 1);\n\n      if (to + '' !== '/home' && to + '' !== '/home/home') {\n        if (w > -1) {\n          this.routePath = to.substring(0, w);\n        } else {\n          this.routePath = to;\n        } // console.log('获取到的路径：' +this.routePath)\n\n\n        this.routers = [];\n        if (this.routePath != '/home') this.resetRouters(this.routePath);\n      }\n    },\n    handleNodeClick: function handleNodeClick(data) {\n      this.$router.push({\n        path: data.path\n      });\n    },\n    renderContent: function renderContent(h, _ref) {\n      var node = _ref.node,\n          data = _ref.data;\n      return h(\"span\", {\n        \"class\": \"custom-tree-node\"\n      }, [h(\"span\", [data.meta.title])]);\n    },\n    resetRouters: function resetRouters(routerPath) {\n      var _this = this;\n\n      var routersList = JSON.parse(JSON.stringify(this.$store.getters.routers));\n      routersList.forEach(function (rts) {\n        if (rts.path == routerPath + '') {\n          if (rts.children) {\n            var _this$routers;\n\n            (_this$routers = _this.routers).push.apply(_this$routers, (0, _toConsumableArray2.default)(rts.children));\n          }\n        }\n      });\n    }\n  }\n};\nexports.default = _default;",null]}