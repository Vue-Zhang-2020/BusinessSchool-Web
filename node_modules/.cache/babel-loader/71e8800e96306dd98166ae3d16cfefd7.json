{"remainingRequest":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\babel-loader\\lib\\index.js!D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\src\\views\\material\\check-logo.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\src\\views\\material\\check-logo.vue","mtime":1588748366515},{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  data: function data() {\n    return {\n      keyword: '',\n      pageSize: 6,\n      total: 6,\n      // task总数\n      srcList: [],\n      tableData: [],\n      headers: {\n        token: localStorage.getItem('token')\n      }\n    };\n  },\n  created: function created() {\n    this.getLogoList();\n  },\n  methods: {\n    imgClick: function imgClick(imgUrl) {\n      this.srcList = [imgUrl];\n    },\n    getLogoList: function getLogoList() {\n      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;\n      var that = this;\n      this.req({\n        url: \"getLogoList?page=\".concat(page, \"&limit=\").concat(limit),\n        data: {},\n        method: \"GET\"\n      }).then(function (res) {\n        console.log(\"res :\", res);\n        that.total = res.data.total;\n        var tableData = res.data.data;\n\n        for (var i = 0; i < tableData.length; i++) {\n          tableData[i].createDate = that.getTime(tableData[i].createDate);\n        }\n\n        that.tableData = tableData;\n      }, function (err) {\n        console.log(\"err :\", err);\n      });\n    },\n    deleteLogo: function deleteLogo(id) {\n      var _this = this;\n\n      var that = this;\n      this.$confirm(\"此操作将删除该文件, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(function () {\n        that.req({\n          url: \"deleteLogo?id=\" + id,\n          data: {},\n          method: \"GET\"\n        }).then(function (res) {\n          console.log(\"res :\", res);\n          that.getLogoList();\n          that.$message(\"删除成功~\");\n        }, function (err) {\n          console.log(\"err :\", err);\n        });\n      }).catch(function () {\n        _this.$message({\n          type: \"info\",\n          message: \"已取消删除\"\n        });\n      });\n    },\n    downloadLogo: function downloadLogo(imgUrl) {},\n    uploadSuccess: function uploadSuccess(response, file, fileList) {\n      var _this2 = this;\n\n      var that = this;\n      console.log(\":\", response);\n      this.$message(\"上传成功~\");\n      this.$prompt(\"请输入logo名称\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\"\n      }).then(function (_ref) {\n        var value = _ref.value;\n        that.req({\n          url: \"addLogo\",\n          data: {\n            name: value,\n            imgUrl: response.data,\n            createDate: new Date().getTime()\n          },\n          method: \"POST\"\n        }).then(function (res) {\n          console.log(\"res :\", res);\n          that.getLogoList();\n        }, function (err) {\n          console.log(\"err :\", err);\n        });\n      }).catch(function () {\n        _this2.$message({\n          type: \"info\",\n          message: \"取消上传\"\n        });\n      });\n    },\n    getTime: function getTime(timestamp) {\n      var that = this;\n      timestamp = parseInt(timestamp);\n      var date = new Date(timestamp); //时间戳为10位需*1000，时间戳为13位的话不需乘1000\n\n      var Y = date.getFullYear() + \"-\";\n      var M = (date.getMonth() + 1 < 10 ? \"0\" + (date.getMonth() + 1) : date.getMonth() + 1) + \"-\";\n      var D = that.change(date.getDate()) + \" \";\n      var h = that.change(date.getHours()) + \":\";\n      var m = that.change(date.getMinutes()) + \":\";\n      var s = that.change(date.getSeconds());\n      return Y + M + D + h + m + s;\n    },\n    change: function change(t) {\n      if (t < 10) {\n        return \"0\" + t;\n      } else {\n        return t;\n      }\n    },\n    // 下载文件\n    downloadFile: function downloadFile(name, href) {\n      console.log(\"name :\", name);\n      console.log(\"href :\", href);\n      var a = document.createElement(\"a\"),\n          //创建a标签\n      e = document.createEvent(\"MouseEvents\"); //创建鼠标事件对象\n\n      e.initEvent(\"click\", false, false); //初始化事件对象\n\n      a.href = href; //设置下载地址\n\n      a.download = name; //设置下载文件名\n\n      a.dispatchEvent(e); //给指定的元素，执行事件click事件\n    },\n    pageChange: function pageChange(page) {\n      console.log(\"page :\", page);\n      this.getLogoList(page);\n    },\n    goSearch: function goSearch() {\n      var that = this;\n\n      if (that.keyword.length < 1) {\n        that.getLogoList();\n        return 0;\n      }\n\n      this.req({\n        url: \"searchLogo?keyword=\" + that.keyword,\n        data: {},\n        method: \"GET\"\n      }).then(function (res) {\n        console.log(\"res :\", res);\n\n        if (res.data.length < 1) {\n          that.$message(\"查询无果~\");\n          return 0;\n        } else {\n          that.$message(\"查询成功~\");\n        }\n\n        for (var i = 0; i < res.data.length; i++) {\n          res.data[i].createDate = that.getTime(res.data[i].createDate);\n        }\n\n        that.tableData = res.data;\n      }, function (err) {\n        console.log(\"err :\", err);\n      });\n    }\n  }\n};\nexports.default = _default;",null]}