{"remainingRequest":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\babel-loader\\lib\\index.js!D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\src\\views\\school_port\\student\\student_info_manager.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\src\\views\\school_port\\student\\student_info_manager.vue","mtime":1594107974775},{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\个人成长经历\\锐名科技\\产品开发\\商管院\\BusinessSchool-Web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.function.name\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'info',\n  data: function data() {\n    return {\n      major: '',\n      // 专业\n      classes: '',\n      // 班级\n      total: 100,\n      currentPage: 1,\n      pagesize: 5,\n      loading: false,\n      searchContent: '',\n      // 搜索内容\n      insertSingleStudentInfoDialog: false,\n      batchDialog: false,\n      formLabelWidth: '120px',\n      studentInfoForm: {\n        // 学生Form\n        name: '',\n        major: '',\n        birthday: '',\n        grade: '',\n        classes: '',\n        photo: ''\n      },\n      rules: {\n        name: [{\n          required: true,\n          message: '请输入姓名',\n          trigger: 'blur'\n        }],\n        major: [{\n          required: true,\n          message: '请选择专业',\n          trigger: 'change'\n        }],\n        birthday: [{\n          type: 'date',\n          required: true,\n          message: '请选择出生年月',\n          trigger: 'change'\n        }],\n        grade: [{\n          required: true,\n          message: '请选择年级',\n          trigger: 'change'\n        }],\n        classes: [{\n          required: true,\n          message: '请选择班级',\n          trigger: 'change'\n        }],\n        photo: [{\n          required: true,\n          message: '请输入联系方式',\n          trigger: 'blur'\n        }]\n      },\n      options: [// 模拟数据\n      {\n        id: '1',\n        majorName: '软件工程'\n      }, {\n        id: '2',\n        majorName: '建筑工程'\n      }],\n      data: [{\n        label: '东莞中职院',\n        children: [{\n          label: '计算机专业',\n          children: [{\n            label: '计算机专业1班'\n          }, {\n            label: '计算机专业2班'\n          }]\n        }]\n      }, {\n        label: '软件专业',\n        children: [{\n          label: '软件专业2',\n          children: [{\n            label: '软件专业3'\n          }]\n        }, {\n          label: '软件专业 2-2',\n          children: [{\n            label: '软件专业 2-2-1'\n          }]\n        }]\n      }],\n      defaultProps: {\n        children: 'children',\n        label: 'label'\n      },\n      tableData: [{\n        id: '1',\n        name: '张三',\n        major: '软件工程',\n        birthday: '20年7月',\n        grade: '大三',\n        classes: '计算机1班',\n        number: '99'\n      }]\n    };\n  },\n  methods: {\n    handleSizeChange: function handleSizeChange(val) {\n      console.log(\"\\u6BCF\\u9875 \".concat(val, \" \\u6761\"));\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      console.log(\"\\u5F53\\u524D\\u9875: \".concat(val));\n    },\n    // 添加学生资料\n    showInserModal: function showInserModal() {\n      this.insertSingleStudentInfoDialog = true;\n    },\n    // 批量录入学生资料\n    showBatchModal: function showBatchModal() {\n      this.batchDialog = true;\n    },\n    // 专业选择\n    majorSelect: function majorSelect() {},\n    // 班级选择\n    classesSelect: function classesSelect() {},\n    // 表单专业选择\n    formMajorSelect: function formMajorSelect() {},\n    // 院校专业菜单\n    handleNodeClick: function handleNodeClick(data) {\n      console.log(data);\n    },\n    // 树形菜单\n    renderContent: function renderContent(h, _ref) {\n      var node = _ref.node,\n          data = _ref.data,\n          store = _ref.store;\n      var addElement = arguments[0];\n      return addElement('span', {\n        class: \"folder-box\"\n      }, [addElement('i', {\n        class: \"folder-icon\"\n      }), addElement('span', \"    \"), addElement('span', arguments[1].node.label)]);\n    },\n    // 下载模板\n    downloadModal: function downloadModal() {\n      var _this = this;\n\n      // 加载loading\n      this.loading = true;\n      this.$axios.post('', JSON.stringify({})).then(function (res) {\n        // 关闭loading\n        _this.loading = false;\n        var content = res.data;\n        var blob = new Blob([content]);\n        var fileName = '学生资料模板.xls';\n\n        if ('download' in document.createElement('a')) {\n          var link = document.createElement('a');\n          link.download = fileName;\n          link.style.display = 'none';\n          link.href = URL.createObjectURL(blob);\n          document.body.appendChild(link);\n          link.click();\n          URL.revokeObjectURL(link.href);\n          document.body.removeChild(link);\n        } else {\n          navigator.msSaveBlob(blob, fileName);\n        }\n      }).catch(function (error) {\n        console.log(error); // 关闭loading\n\n        _this.loading = false;\n      });\n    },\n    // 文件选择\n    handleChange: function handleChange(file, fileList) {\n      this.fileList = fileList.slice(-3);\n    },\n    // 前端校验文件上传是否符合条件\n    file_info_check: function file_info_check(file) {\n      var ret = \"\";\n\n      if (file === undefined) {\n        ret = \"\";\n      }\n\n      var max_file_size = 2 * 1024 * 1024;\n\n      if (file.size > max_file_size) {\n        ret = \"文件不能大于2Mb\";\n      }\n\n      var allow_type = \".xlsx\";\n      var allow_type2 = \".xls\";\n\n      if (file.name.indexOf(allow_type) === -1) {\n        ret = \"文件格式要求是.xls/.xlsx\";\n      } else {\n        ret = 'success';\n        return ret;\n      }\n\n      if (file.name.indexOf(allow_type2) === -1) {\n        ret = \"文件格式要求是.xls/.xlsx\";\n      } else {\n        ret = 'success';\n        return ret;\n      }\n\n      return ret;\n    },\n    uploadImg: function uploadImg(fileObj) {\n      var _this2 = this;\n\n      this.loading = true;\n      var fileStatus = this.file_info_check(fileObj.file);\n\n      if (fileStatus === 'success') {\n        var formData = new FormData();\n        formData.append(\"file\", fileObj.file);\n        formData.append(\"id\", this.compeSelect);\n        formData.append(\"gameUrl\", this.gameUrl);\n        this.$axios.post(this.$global.proUrl + '/uploadingFile', formData, {\n          headers: {\n            \"Content-type\": \"multipart/form-data\"\n          }\n        }).then(function (res) {\n          _this2.$message({\n            message: '提交成功',\n            type: 'success'\n          });\n\n          _this2.loading = false;\n        });\n      } else {\n        this.$message({\n          message: fileStatus,\n          type: 'error'\n        });\n      }\n    },\n    submitForm: function submitForm(formName) {\n      var _this3 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this3.insertSingleStudentInfoDialog = false;\n\n          _this3.$refs[formName].resetFields();\n        } else {\n          return false;\n        }\n      });\n    }\n  }\n};\nexports.default = _default;",null]}