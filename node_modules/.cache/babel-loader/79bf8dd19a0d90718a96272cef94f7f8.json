{"remainingRequest":"D:\\Vue\\后台模板\\vue-web-template\\node_modules\\babel-loader\\lib\\index.js!D:\\Vue\\后台模板\\vue-web-template\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Vue\\后台模板\\vue-web-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Vue\\后台模板\\vue-web-template\\src\\views\\material\\check.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Vue\\后台模板\\vue-web-template\\src\\views\\material\\check.vue","mtime":1588748366516},{"path":"D:\\Vue\\后台模板\\vue-web-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Vue\\后台模板\\vue-web-template\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Vue\\后台模板\\vue-web-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Vue\\后台模板\\vue-web-template\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  data: function data() {\n    return {\n      pageSize: 6,\n      total: 6,\n      // task总数\n      srcList: [],\n      tableData: [],\n      keyword: \"\",\n      headers: {\n        token: localStorage.getItem(\"token\")\n      },\n      pickerOptions: {\n        shortcuts: [{\n          text: \"最近一周\",\n          onClick: function onClick(picker) {\n            var end = new Date();\n            var start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n            picker.$emit(\"pick\", [start, end]);\n          }\n        }, {\n          text: \"最近五天\",\n          onClick: function onClick(picker) {\n            var end = new Date();\n            var start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 5);\n            picker.$emit(\"pick\", [start, end]);\n          }\n        }, {\n          text: \"最近三天\",\n          onClick: function onClick(picker) {\n            var end = new Date();\n            var start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 3);\n            picker.$emit(\"pick\", [start, end]);\n          }\n        }]\n      },\n      searchTime: \"\"\n    };\n  },\n  created: function created() {\n    this.getMaterialList();\n  },\n  methods: {\n    imgClick: function imgClick(imgUrl) {\n      this.srcList = [imgUrl];\n    },\n    getMaterialList: function getMaterialList() {\n      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;\n      var that = this;\n      this.req({\n        url: \"getMaterialList?page=\".concat(page, \"&limit=\").concat(limit),\n        data: {},\n        method: \"GET\"\n      }).then(function (res) {\n        console.log(\"res :\", res);\n        that.total = res.data.total;\n        var tableData = res.data.data;\n\n        for (var i = 0; i < tableData.length; i++) {\n          tableData[i].createDate = that.getTime(tableData[i].createDate);\n        }\n\n        that.tableData = tableData;\n      }, function (err) {\n        console.log(\"err :\", err);\n      });\n    },\n    deleteMaterial: function deleteMaterial(id) {\n      var _this = this;\n\n      var that = this;\n      this.$confirm(\"此操作将删除该文件, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(function () {\n        that.req({\n          url: \"deleteMaterial?id=\" + id,\n          data: {},\n          method: \"GET\"\n        }).then(function (res) {\n          console.log(\"res :\", res);\n          that.getMaterialList();\n          that.$message(\"删除成功~\");\n        }, function (err) {\n          console.log(\"err :\", err);\n        });\n      }).catch(function () {\n        _this.$message({\n          type: \"info\",\n          message: \"已取消删除\"\n        });\n      });\n    },\n    uploadSuccess: function uploadSuccess(response, file, fileList) {\n      var _this2 = this;\n\n      var that = this;\n      console.log(\":\", response);\n      this.$message(\"上传成功~\");\n      this.$prompt(\"请输入素材名称\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\"\n      }).then(function (_ref) {\n        var value = _ref.value;\n        that.req({\n          url: \"addMaterial\",\n          data: {\n            name: value,\n            imgUrl: response.data,\n            createDate: new Date().getTime()\n          },\n          method: \"POST\"\n        }).then(function (res) {\n          console.log(\"res :\", res);\n          that.getMaterialList();\n        }, function (err) {\n          console.log(\"err :\", err);\n        });\n      }).catch(function () {\n        _this2.$message({\n          type: \"info\",\n          message: \"取消上传\"\n        });\n      });\n    },\n    getTime: function getTime(timestamp) {\n      var that = this;\n      timestamp = parseInt(timestamp);\n      var date = new Date(timestamp); //时间戳为10位需*1000，时间戳为13位的话不需乘1000\n\n      var Y = date.getFullYear() + \"-\";\n      var M = (date.getMonth() + 1 < 10 ? \"0\" + (date.getMonth() + 1) : date.getMonth() + 1) + \"-\";\n      var D = that.change(date.getDate()) + \" \";\n      var h = that.change(date.getHours()) + \":\";\n      var m = that.change(date.getMinutes()) + \":\";\n      var s = that.change(date.getSeconds());\n      return Y + M + D + h + m + s;\n    },\n    change: function change(t) {\n      if (t < 10) {\n        return \"0\" + t;\n      } else {\n        return t;\n      }\n    },\n    // 下载文件\n    downloadFile: function downloadFile(name, href) {\n      console.log(\"name :\", name);\n      console.log(\"href :\", href);\n      var a = document.createElement(\"a\"),\n          //创建a标签\n      e = document.createEvent(\"MouseEvents\"); //创建鼠标事件对象\n\n      e.initEvent(\"click\", false, false); //初始化事件对象\n\n      a.href = href; //设置下载地址\n\n      a.download = name; //设置下载文件名\n\n      a.dispatchEvent(e); //给指定的元素，执行事件click事件\n    },\n    searchByKeyword: function searchByKeyword() {\n      var that = this;\n\n      if (that.keyword.length < 1) {\n        that.getMaterialList();\n        return 0;\n      }\n\n      this.req({\n        url: \"searchMaterial?keyword=\" + that.keyword,\n        data: {},\n        method: \"GET\"\n      }).then(function (res) {\n        console.log(\"res :\", res);\n\n        if (res.data.length < 1) {\n          that.$message(\"查询无果~\");\n          return 0;\n        } else {\n          that.$message(\"查询成功~\");\n        }\n\n        for (var i = 0; i < res.data.length; i++) {\n          res.data[i].createDate = that.getTime(res.data[i].createDate);\n        } // 搜索时不分页\n\n\n        that.total = 1;\n        that.tableData = res.data;\n      }, function (err) {\n        console.log(\"err :\", err);\n      });\n    },\n    pageChange: function pageChange(page) {\n      console.log(\"page :\", page);\n      this.getMaterialList(page);\n    },\n    searchByTime: function searchByTime() {\n      var that = this;\n      var beginTime = new Date(this.searchTime[0]).getTime();\n      var endTime = new Date(this.searchTime[1]).getTime();\n      console.log(\"beginTime :\", beginTime);\n      this.req({\n        url: \"searchMaterialByTime?beginTime=\".concat(beginTime, \"&endTime=\").concat(endTime),\n        data: {},\n        method: \"GET\"\n      }).then(function (res) {\n        console.log(\"res :\", res);\n\n        if (res.data.length < 1) {\n          that.$message(\"查询无果~\");\n          return 0;\n        } else {\n          that.$message(\"查询成功~\");\n        }\n\n        for (var i = 0; i < res.data.length; i++) {\n          res.data[i].createDate = that.getTime(res.data[i].createDate);\n        } // 搜索时不分页\n\n\n        that.total = 1;\n        that.tableData = res.data;\n      }, function (err) {\n        console.log(\"err :\", err);\n      });\n    }\n  }\n};\nexports.default = _default;",null]}